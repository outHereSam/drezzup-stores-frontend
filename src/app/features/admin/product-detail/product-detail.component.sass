@use '../../../../styles/_variables' as *
@use '../../../../styles/_functions' as *
@use '../../../../styles/_mixins' as *

main
    .back
        @include flexbox($justify: null, $align: center, $gap: 5px, $direction: row)
        border: none
        background: none
        color: $text-main
        cursor: pointer
        margin: 0 0 20px 0

    .header
        @include flexbox($justify: space-between, $align: center, $gap: _, $direction: row)

        .options
            position: relative

            .menu
                cursor: pointer
                border: none
                background: none
                appearance: none
                padding: 8px

                &:hover
                    background-color: $bg-gray

            .menu_options
                background-color: #fff
                border-radius: 4px
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1)
                position: absolute
                right: 0
                z-index: 10
                width: 180px
                @include flexbox($justify: _, $align: _, $gap: _, $direction: column)

                button
                    width: 100%
                    border: none
                    background: none
                    color: $text-main
                    text-decoration: none
                    @include flexbox($justify: _, $align: center, $gap: 5px, $direction: row)
                    padding: 8px
                    list-style: none
                    cursor: pointer
                    font-size: 14px

                    &:hover
                        background-color: $bg-gray

    .toggles
        // border: solid 1px pink
        margin: 0 0 32px 0
        @include flexbox($justify: _, $align: center, $gap: 50px, $direction: row)
        

        .switch
            position: relative
            display: inline-block
            width: 36px
            height: 20px

            input
                opacity: 0
                width: 0
                height: 0

                &:checked + .slider
                    background-color: $text-main

                &:checked + .slider::before
                    transform: translateX(16px)

            .slider
                position: absolute
                cursor: pointer
                top: 0
                left: 0
                right: 0
                bottom: 0
                background-color: $light-blue
                transition: 0.4s
                border-radius: 28px

                &::before
                    position: absolute
                    content: ""
                    height: 18px
                    width: 18px
                    left: 1px
                    bottom: 1px
                    background-color: white
                    transition: 0.4s
                    border-radius: 9px

            


    .product_id
        font-size: 12px
        color: $text-secondary
        background-color: $bg-gray
        padding: 2px
        border-radius: 2px
        margin: 0 0 5px 0

    .title
        font-size: 20px
        margin: 0 0 20px

    .content
        border-top: solid 1px $light-blue
        padding: 24px 0
        position: relative
        &.loading
            opacity: 0.7
            pointer-events: none

        .sectionTitle
            margin: 0 0 18px 0

        table
            width: 80%
            @include flexbox($justify: _, $align: _, $gap: 14px, $direction: column)

            tr
                @include flexbox($justify: null, $align: flex-start, $gap: _, $direction: row)

            td
                // border: solid 1px pink
                width: 100%

            .property
                // border: solid 1px pink
                color: $text-secondary
                width: 30%

    .images
        border-top: solid 1px $light-blue
        // padding: 24px 0
        margin: 24px 0

        .sectionTitle
            margin: 20px 0 0 0

        div
            width: 100px
            height: 100px
            // overflow: hidden
            position: relative
            margin: 20px 0 0 0

            img
                height: 100%
                width: 100%
                object-fit: cover
                border-radius: 4px

            .delete_image
                position: absolute
                bottom: 0
                right: 0
                border: none
                cursor: pointer
                padding: 4px
                border-top-left-radius: 4px
                background-color: $light-blue

                &:hover
                    background-color: $gray-hover

    .variants
        border-top: solid 1px $light-blue
        padding: 24px 0

        table
            th, td
                // border: solid 1px pink
                text-align: left
                padding: 8px
                border-bottom: solid 1px $bg-gray

            td
                width: 250px

            .deleteVariant
                border: none
                background: none
                padding: 8px
                cursor: pointer

.lightbox
    background-color: rgba(0, 0, 0, 0.60 )
    @include flexbox($justify: center, $align: center )
    cursor: pointer
    width: 100%
    height: 100%
    position: absolute
    top: 0
    left: 0

.modal
    background-color: white
    position: absolute
    top: 50%
    left: 50%
    transform: translate(-50%, -50%)
    z-index: 10
    padding: 24px
    border-radius: 8px

    .modalHeader
        @include flexbox($justify: space-between, $align: center, $gap: _, $direction: row)

        .cancel
            border: none
            background: none
            cursor: pointer

    form
        border-top: solid 1px $bg-gray
        padding: 16px 0
        max-height: 480px
        overflow: scroll
        margin: 16px 0 0 0
        @include flexbox($justify: null, $align:null , $gap: 12px, $direction: column)
        font-size: 14px

        label
            font-size: 14px
            display: block
            margin: 0 0 8px 0

        input, textarea, select
            width: 100%
            padding: 8px 12px
            border: solid 1px $gray-hover
            border-radius: 6px
            outline: none
            background-color: white

            &:focus
                border: solid 1px $text-secondary

        textarea
            font-size: 14px

        .error-message
            margin: 8px 0 0 0
            font-size: 12px
            color: #ff4d4d

.variantInputs
    @include flexbox($justify: _, $align: center, $gap: 10px, $direction: row)

.addVariant
    width: 100%
    padding: 8px 0
    cursor: pointer
    border: none
    border-radius: 999px
    background-color: $bg-gray

    &:hover
        background-color: $gray-hover

.removeVariant
    border: none
    background-color: $bg-gray
    padding: 8px
    cursor: pointer
    border-radius: 4px

    &:hover
        background-color: $gray-hover

.buttons
    float: right
    margin: 16px 0 0 0
    @include flexbox($justify: null, $align: center, $gap: 8px, $direction: row)

    .cancel
        font-size: 14px
        background-color: $bg-gray
        border: none
        padding: 8px 12px
        border-radius: 4px
        cursor: pointer

        &:hover
            background-color: darken($bg-gray, 10%)

    .save
        font-size: 14px
        color: white
        background-color: $text-main
        border: none
        padding: 8px 12px
        border-radius: 4px
        cursor: pointer

        &:hover
            background-color: lighten($text-main, 10 )

.loading-overlay
    position: absolute
    top: 0
    left: 0
    right: 0
    bottom: 0
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    background-color: rgba(255, 255, 255, 0.8)
    z-index: 10

.spinner
    width: 40px
    height: 40px
    border: 4px solid rgba(0, 0, 0, 0.1)
    border-radius: 50%
    border-top-color: #0F172A
    animation: spin 1s ease-in-out infinite
    margin-bottom: 10px

@keyframes spin
    to
        transform: rotate(360deg)
